<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
    <title>Movie Stream</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="style.css" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap"
    rel="stylesheet"
  />
  <link rel="icon" href="assets/favicon.ico" type="image/x-icon">
  <link rel="icon" type="image/png" sizes="32x32" href="assets/favicon.png">
</head>

<body>
  <!-- GOALS VIEW (with its own navbar, tabs, and content) -->
  <section id="goalsView">
    <!-- NAVBAR -->
    <nav class="navbar">
      <div class="container navbar-inner">
        <div class="navbar-right">
          <button type="button" id="loginBtn" style="display:none;">Sign In</button>
        </div>
      </div>
    </nav>

    <!-- TABS CONTENT PANELS -->
    <!-- MOVIES PANEL -->

    <!-- MOVIES PANEL -->
      <div id="moviesPanel" class="main-layout">
        <div class="full-column">
        <header class="movies-panel-header">
          <h1>Movie Stream</h1>
          <div id="movieTabs" class="movie-tabs">
            <button class="movie-tab active" data-target="movieStreamSection">Movie Stream</button>
            <button class="movie-tab" data-target="savedMoviesSection">Saved Movies</button>
            <button class="movie-tab" data-target="watchedMoviesSection">Watched Movies</button>
          </div>
        </header>
        <div id="movieStreamSection">
          <div class="media-stream">
            <aside class="media-stream__filters">
                <div class="movie-feed-status-row">
                  <div id="movieFeedControls" class="movie-controls movie-filter-controls media-filter-toolbar">
                    <div class="movie-filter-field media-filter-toolbar__item">
                      <label for="movieFilterMinRating">Min rating</label>
                      <input
                        id="movieFilterMinRating"
                        type="number"
                        min="0"
                        max="10"
                        step="0.1"
                        inputmode="decimal"
                        placeholder="0-10"
                      />
                    </div>
                    <div class="movie-filter-field media-filter-toolbar__item">
                      <label for="movieFilterMinVotes">Min votes</label>
                      <input
                        id="movieFilterMinVotes"
                        type="number"
                        min="0"
                        step="1"
                        inputmode="numeric"
                        placeholder="e.g. 100"
                      />
                    </div>
                    <div class="movie-filter-field media-filter-toolbar__item">
                      <label for="movieFilterStartYear">Start year</label>
                      <input
                        id="movieFilterStartYear"
                        type="number"
                        min="1800"
                        max="3000"
                        step="1"
                        inputmode="numeric"
                        placeholder="e.g. 1990"
                      />
                    </div>
                    <div class="movie-filter-field media-filter-toolbar__item">
                      <label for="movieFilterEndYear">End year</label>
                      <input
                        id="movieFilterEndYear"
                        type="number"
                        min="1800"
                        max="3000"
                        step="1"
                        inputmode="numeric"
                        placeholder="e.g. 2020"
                      />
                    </div>
                    <div class="movie-filter-field movie-filter-genre media-filter-toolbar__item">
                      <span class="movie-filter-label">Genre</span>
                      <div id="movieFilterGenre" class="genre-filter"></div>
                    </div>
                    <div class="movie-filter-field media-filter-toolbar__item">
                      <button
                        type="button"
                        id="movieFindNewButton"
                        class="movie-find-new-btn"
                      >
                        Find New Movies
                      </button>
                    </div>
                    <div id="moviesApiKeyContainer" class="movie-filter-field media-filter-toolbar__item">
                      <label for="moviesApiKey">TMDB API key</label>
                      <input
                        id="moviesApiKey"
                        type="password"
                        inputmode="text"
                        autocomplete="off"
                        placeholder="Paste key"
                      />
                    </div>
                    <div id="moviesApiKeyStatus" class="movie-api-key-status" aria-live="polite"></div>
                  </div>
                </div>
                <div id="movieStats" class="media-stats" aria-live="polite"></div>
                <div class="movie-rating-distribution">
                  <button
                    type="button"
                    id="movieRatingToggle"
                    class="movie-rating-distribution__toggle"
                    aria-expanded="false"
                  >
                    Show filtered rating distribution
                  </button>
                  <div
                    id="movieRatingPanel"
                    class="movie-rating-distribution__panel"
                    hidden
                  >
                    <ul id="movieRatingList" class="movie-rating-distribution__list"></ul>
                    <p class="movie-rating-distribution__footnote">
                      Top 5 rating ranges at 0.1 increments from the movie catalog.
                    </p>
                  </div>
                </div>
            </aside>
            <section class="media-stream__content">
              <div class="movie-stream__status-row">
                <div id="movieStatus" class="movie-status" aria-live="polite"></div>
                <div id="movieUnclassifiedCount" class="movie-unclassified-count" aria-live="polite"></div>
              </div>
              <div id="movieList" class="decision-container"></div>
              <div id="movieStatusBottom" class="movie-status movie-status--bottom" aria-live="polite"></div>
            </section>
          </div>
        </div>
          <div id="savedMoviesSection" style="display:none;">
            <div id="savedMoviesFilters" class="genre-filter"></div>
            <div id="savedMoviesList" class="decision-container"></div>
          </div>
          <div id="watchedMoviesSection" style="display:none;">
            <div id="watchedMoviesControls" class="movie-controls">
              <label for="watchedMoviesSort">Sort by:</label>
              <select id="watchedMoviesSort">
                <option value="recent">Recently Updated</option>
                <option value="ratingDesc">Rating: High to Low</option>
                <option value="ratingAsc">Rating: Low to High</option>
              </select>
            </div>
            <div id="watchedMoviesList" class="decision-container"></div>
          </div>
          <footer id="tmdbNotice" class="tmdb-notice">
            Uses the <a href="https://developer.themoviedb.org/reference/intro/getting-started" target="_blank" rel="noopener noreferrer">TMDB API</a>.
          </footer>
        </div>
      </div>
  </section>

  <nav id="bottomNav" class="bottom-nav">
    <button type="button" id="bottomAddBtn" class="icon-btn circle-btn icon-button"><img src="assets/plus.svg" alt="Add" /></button>
    <button type="button" id="bottomLogoutBtn" class="icon-btn"><img src="assets/sign-out.svg" alt="Sign Out" /></button>
  </nav>

  <!-- Modal shown when using the bottom add button -->
  <div id="bottomAddModal" class="modal" style="display:none;">
    <div class="modal-content">
      <h3 id="bottomAddTitle"></h3>
      <div id="bottomAddOptions" class="rating-options"></div>
      <div id="bottomAddSection" class="rating-options" style="display:none;margin-top:8px;"></div>
      <input id="bottomAddText" type="text" placeholder="Description" style="display:none;margin-top:8px;width:100%;" />
      <div class="modal-actions" style="margin-top:1em;">
        <button type="button" id="bottomAddCancel">Cancel</button>
        <button type="button" id="bottomAddSubmit">Add</button>
      </div>
    </div>
  </div>
  <div id="contactModal" class="modal" style="display:none;">
    <div class="modal-content" style="max-width:400px;width:90%;max-height:80vh;overflow:auto;">
      <h3>Contact Developer</h3>
      <form id="contactForm">
        <div style="margin-bottom:8px;">
          <label>Name<br><input type="text" id="contactName" /></label>
        </div>
        <div style="margin-bottom:8px;">
          <label>Email<br><input type="email" id="contactEmailInput" required /></label>
        </div>
        <div style="margin-bottom:8px;">
          <label>Message<br><textarea id="contactMessage" required style="width:100%;height:100px;"></textarea></label>
        </div>
        <div class="modal-actions" style="margin-top:1em;">
          <button type="submit">Send</button>
          <button type="button" id="contactCancelBtn">Cancel</button>
        </div>
      </form>
    </div>
  </div>
  <script src="https://apis.google.com/js/api.js"></script>
  <script type="module" src="js/main.js"></script>
  <script type="module" src="js/movies.js"></script>
</body>
</html>
